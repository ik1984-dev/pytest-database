from pydantic import BaseModel, EmailStr, ConfigDict
from typing import Optional

# üéØ –ë–ê–ó–û–í–ê–Ø –°–•–ï–ú–ê –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
# –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—â–∏–µ –ø–æ–ª—è –¥–ª—è –≤—Å–µ—Ö —Å—Ö–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
class UserBase(BaseModel):
    name: str                    # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ: –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å—Ç—Ä–æ–∫–∞)
    email: EmailStr              # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ: email —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ñ–æ—Ä–º–∞—Ç–∞
    bio: Optional[str] = None    # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ: –±–∏–æ–≥—Ä–∞—Ñ–∏—è (–º–æ–∂–µ—Ç –±—ã—Ç—å None)

# üÜï –°–•–ï–ú–ê –î–õ–Ø –°–û–ó–î–ê–ù–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ (POST /users/)
class UserCreate(UserBase):
    # –ù–∞—Å–ª–µ–¥—É–µ—Ç –≤—Å–µ –ø–æ–ª—è –æ—Ç UserBase –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    # name: str (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
    # email: EmailStr (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
    # bio: Optional[str] = None (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    pass

# üë§ –°–•–ï–ú–ê –î–õ–Ø –û–¢–í–ï–¢–ê API
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç—É (–ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è/—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
class User(UserBase):
    id: int  # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö)

    # ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø PYDANTIC v2
    # from_attributes=True –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å Pydantic –º–æ–¥–µ–ª–∏ –∏–∑ ORM –æ–±—ä–µ–∫—Ç–æ–≤ (—Ä–∞–Ω–µ–µ orm_mode = True)
    # –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å SQLAlchemy –º–æ–¥–µ–ª–∏ –≤ Pydantic —Å—Ö–µ–º—ã
    model_config = ConfigDict(from_attributes=True)